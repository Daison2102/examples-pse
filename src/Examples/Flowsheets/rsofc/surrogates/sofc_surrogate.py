##############################################################################
# Institute for the Design of Advanced Energy Systems Process Systems
# Engineering Framework (IDAES PSE Framework) Copyright (c) 2018-2020, by the
# software owners: The Regents of the University of California, through
# Lawrence Berkeley National Laboratory,  National Technology & Engineering
# Solutions of Sandia, LLC, Carnegie Mellon University, West Virginia
# University Research Corporation, et al. All rights reserved.
#
# Please see the files COPYRIGHT.txt and LICENSE.txt for full copyright and
# license information, respectively. Both files are also available online
# at the URL "https://github.com/IDAES/idaes-pse".
##############################################################################

__author__ = "Alex Noring"

import pyomo.environ as pyo

from pyomo.util.calc_var_value import calculate_variable_from_constraint


def build_SOFC_SM(b):
    b.SOFC = pyo.Block()
    # add input vars
    b.SOFC.current_density = pyo.Var(initialize=4000, bounds=(2000, 6000))
    b.SOFC.fuel_temperature = pyo.Var(initialize=500, bounds=(15, 600))
    b.SOFC.internal_reforming = pyo.Var(initialize=0.4, bounds=(0, 1))
    b.SOFC.air_temperature = pyo.Var(initialize=700, bounds=(550, 800))
    b.SOFC.air_recirculation = pyo.Var(initialize=0.5, bounds=(0, 0.8))
    b.SOFC.OTC = pyo.Var(initialize=2.1, bounds=(1.5, 3))
    b.SOFC.fuel_util = pyo.Var(initialize=0.85, bounds=(0.4, 0.95))
    b.SOFC.air_util = pyo.Var(initialize=0.5, bounds=(0.125, 0.833))
    b.SOFC.pressure = pyo.Var(initialize=1, bounds=(1, 2.5))
    # add output vars
    b.SOFC.cathode_outlet_temperature = pyo.Var(initialize=1000)
    b.SOFC.max_cell_temperature = pyo.Var(initialize=450)
    b.SOFC.anode_outlet_temperature = pyo.Var(initialize=450)
    b.SOFC.deltaT_cell = pyo.Var(initialize=650)
    b.SOFC.stack_voltage = pyo.Var(initialize=650)

    # rename input vars for use with surrogate methods
    Average_CurrentDensity = b.SOFC.current_density
    FuelNGTemperature = b.SOFC.fuel_temperature
    OxygenToCarbon_Ratio = b.SOFC.OTC
    Stack_Fuel_Utilization = b.SOFC.fuel_util
    SystemPressure = b.SOFC.pressure
    Internal_Reforming = b.SOFC.internal_reforming
    OxidantTemperature = b.SOFC.air_temperature
    Oxidant_Recirculation = b.SOFC.air_recirculation
    Stack_Oxidant_Utilization = b.SOFC.air_util

    @b.SOFC.Constraint()
    def SM_fuel_temp(SOFC):
        return SOFC.anode_outlet_temperature ==  (- 0.98926936968523962456779E-002 * Average_CurrentDensity - 0.24966685622235623709386 * FuelNGTemperature
                                                - 458.88984583915521398012 * Internal_Reforming + 3.3892670732625806984117 * OxidantTemperature
                                                - 1211.4273969122550624888 * Oxidant_Recirculation - 55.222287749097439757406 * OxygenToCarbon_Ratio
                                                - 1006.1949356537522817234 * Stack_Fuel_Utilization + 1336.2687245014994914527 * Stack_Oxidant_Utilization
                                                - 0.21251334361826879071344 * SystemPressure - 0.11398503601991547455090E-006 * Average_CurrentDensity**2
                                                + 644.76520382824219268514 * Internal_Reforming**2 - 0.38184420790916776683455E-002 * OxidantTemperature**2
                                                + 43.685890342726935386963 * Oxidant_Recirculation**2 - 36.738388528342518668524 * OxygenToCarbon_Ratio**2
                                                + 121.32740582732773759744 * Stack_Fuel_Utilization**2 - 466.29617840340586099046 * Stack_Oxidant_Utilization**2
                                                + 0.92026269237915292453778 * SystemPressure**2 - 231.35225302703889838085 * Internal_Reforming**3
                                                + 0.21491253996225588538695E-005 * OxidantTemperature**3 + 8.0355748455058062518219 * OxygenToCarbon_Ratio**3
                                                + 315.24618717929388367338 * Stack_Oxidant_Utilization**3 - 0.27209493816103629954515E-005 * Average_CurrentDensity*FuelNGTemperature
                                                + 0.20438009879366482446361E-001 * Average_CurrentDensity*Internal_Reforming + 0.28444371177567099456818E-001 * Average_CurrentDensity*Oxidant_Recirculation
                                                + 0.24538853390876380101970E-002 * Average_CurrentDensity*OxygenToCarbon_Ratio - 0.72560955468296724213406E-002 * Average_CurrentDensity*Stack_Fuel_Utilization
                                                + 0.39580481063809644023954E-002 * Average_CurrentDensity*Stack_Oxidant_Utilization + 0.28220929962018779374455E-001 * FuelNGTemperature*Internal_Reforming
                                                + 0.12601019047551642593419 * FuelNGTemperature*Oxidant_Recirculation + 0.12250942287445502898446 * FuelNGTemperature*OxygenToCarbon_Ratio
                                                + 0.23289397205947759417199 * FuelNGTemperature*Stack_Fuel_Utilization + 0.52333309228095009624226E-001 * FuelNGTemperature*Stack_Oxidant_Utilization
                                                - 0.72916861872263460941923 * Internal_Reforming*OxidantTemperature + 676.88850353754264688177 * Internal_Reforming*Oxidant_Recirculation
                                                + 144.69545713111889995162 * Internal_Reforming*OxygenToCarbon_Ratio + 462.17380445887505402425 * Internal_Reforming*Stack_Fuel_Utilization
                                                - 1957.0096515542102224572 * Internal_Reforming*Stack_Oxidant_Utilization + 0.49892213950751651552196 * OxidantTemperature*Oxidant_Recirculation
                                                - 0.20798311838650643257331 * OxidantTemperature*OxygenToCarbon_Ratio + 0.72803260222382482069747 * OxidantTemperature*Stack_Fuel_Utilization
                                                - 0.88473444196372774683823 * OxidantTemperature*Stack_Oxidant_Utilization - 0.60809290509776878913550E-002 * OxidantTemperature*SystemPressure
                                                + 261.94947080047887766341 * Oxidant_Recirculation*OxygenToCarbon_Ratio + 1222.1366449869460666378 * Oxidant_Recirculation*Stack_Fuel_Utilization
                                                + 430.86594063198322146491 * Oxidant_Recirculation*Stack_Oxidant_Utilization + 9.2737832586852899652285 * Oxidant_Recirculation*SystemPressure
                                                + 179.01358114565982759814 * OxygenToCarbon_Ratio*Stack_Fuel_Utilization - 160.61858714270277914693 * OxygenToCarbon_Ratio*Stack_Oxidant_Utilization
                                                - 1.5733635354934785155478 * OxygenToCarbon_Ratio*SystemPressure - 204.20504219163083803323 * Stack_Fuel_Utilization*Stack_Oxidant_Utilization
                                                - 14.703628918461609131896 * Stack_Oxidant_Utilization*SystemPressure - 0.16482715949002128921649E-005 * (Average_CurrentDensity*Internal_Reforming)**2
                                                + 0.79106315907238850971953E-006 * (Average_CurrentDensity*Oxidant_Recirculation)**2 + 0.96363251262910324832986E-004 * (Internal_Reforming*OxidantTemperature)**2
                                                - 336.30821012050643048497 * (Internal_Reforming*Oxidant_Recirculation)**2 - 27.551753479997930895706 * (Internal_Reforming*OxygenToCarbon_Ratio)**2
                                                - 608.38301083330338769883 * (Internal_Reforming*Stack_Fuel_Utilization)**2 + 363.82430351857811956506 * (Internal_Reforming*Stack_Oxidant_Utilization)**2
                                                - 0.82989618602363486154355E-003 * (OxidantTemperature*Stack_Fuel_Utilization)**2 - 5.6353831769517528371694 * (Oxidant_Recirculation*OxygenToCarbon_Ratio)**2
                                                + 88.475393967301286579641 * (Oxidant_Recirculation*Stack_Fuel_Utilization)**2 - 180.87924850170773538593 * (Oxidant_Recirculation*Stack_Oxidant_Utilization)**2
                                                - 16.719684694958349524541 * (OxygenToCarbon_Ratio*Stack_Fuel_Utilization)**2 + 4.5190191079833121889919 * (OxygenToCarbon_Ratio*Stack_Oxidant_Utilization)**2
                                                + 945.41845251812401329516 * (Stack_Fuel_Utilization*Stack_Oxidant_Utilization)**2 + 113.13118897602616641507 * (Internal_Reforming*Oxidant_Recirculation)**3
                                                + 5.0743971670368166471121 * (Internal_Reforming*OxygenToCarbon_Ratio)**3 + 275.08679480703074204939 * (Internal_Reforming*Stack_Fuel_Utilization)**3
                                                - 252.95959231810809342278 * (Internal_Reforming*Stack_Oxidant_Utilization)**3 - 0.24786469875351582747847 * (Oxidant_Recirculation*OxygenToCarbon_Ratio)**3
                                                + 114.02402091693319619026 * (Oxidant_Recirculation*Stack_Fuel_Utilization)**3 - 481.96629311578652732351 * (Stack_Fuel_Utilization*Stack_Oxidant_Utilization)**3
                                                + 0.72757007090449185731144E-005 * Average_CurrentDensity*Internal_Reforming*OxidantTemperature
                                                - 0.28684418411347913785425E-001 * Average_CurrentDensity*Internal_Reforming*Oxidant_Recirculation
                                                + 0.45218917845058437254835E-001 * Average_CurrentDensity*Internal_Reforming*Stack_Oxidant_Utilization
                                                - 0.61885511982943761793985E-002 * Average_CurrentDensity*Oxidant_Recirculation*OxygenToCarbon_Ratio
                                                - 0.27814214146534323168769E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Oxidant_Utilization
                                                + 0.12160056726737944812755E-001 * Average_CurrentDensity*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization
                                                - 0.46596290232313798684860E-001 * Average_CurrentDensity*Stack_Fuel_Utilization*Stack_Oxidant_Utilization
                                                - 0.91813258890079615937019E-001 * FuelNGTemperature*Oxidant_Recirculation*OxygenToCarbon_Ratio
                                                + 0.14096641744906571180884 * FuelNGTemperature*Oxidant_Recirculation*Stack_Fuel_Utilization
                                                - 0.21995483802811696683044 * FuelNGTemperature*Oxidant_Recirculation*Stack_Oxidant_Utilization
                                                - 0.13379860922661748756646 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Fuel_Utilization
                                                + 0.13217702673605669083656 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization
                                                - 0.22792859673553939048318 * FuelNGTemperature*Stack_Fuel_Utilization*Stack_Oxidant_Utilization
                                                + 0.97035263039224276676586E-002 * Internal_Reforming*OxidantTemperature*Oxidant_Recirculation
                                                + 0.26277820006787241252644E-001 * Internal_Reforming*OxidantTemperature*OxygenToCarbon_Ratio
                                                + 0.70779461465676951625881 * Internal_Reforming*OxidantTemperature*Stack_Fuel_Utilization
                                                - 0.24076470641787509063825 * Internal_Reforming*OxidantTemperature*Stack_Oxidant_Utilization
                                                - 60.395309821652119808277 * Internal_Reforming*Oxidant_Recirculation*OxygenToCarbon_Ratio
                                                - 534.19105201028287410736 * Internal_Reforming*Oxidant_Recirculation*Stack_Fuel_Utilization
                                                + 1390.2980556441195858497 * Internal_Reforming*Oxidant_Recirculation*Stack_Oxidant_Utilization
                                                - 108.45050143655561214473 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Fuel_Utilization
                                                + 56.120642086012971105902 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization
                                                + 647.68023499402795550850 * Internal_Reforming*Stack_Fuel_Utilization*Stack_Oxidant_Utilization
                                                - 0.82795870403474602916560 * OxidantTemperature*Oxidant_Recirculation*Stack_Fuel_Utilization
                                                + 0.23480803394365756808781 * OxidantTemperature*OxygenToCarbon_Ratio*Stack_Fuel_Utilization
                                                + 1.5070693674810484719018 * OxidantTemperature*Stack_Fuel_Utilization*Stack_Oxidant_Utilization
                                                - 177.04765064833344467843 * Oxidant_Recirculation*OxygenToCarbon_Ratio*Stack_Fuel_Utilization
                                                - 1903.6007716309634361096 * Oxidant_Recirculation*Stack_Fuel_Utilization*Stack_Oxidant_Utilization)

    @b.SOFC.Constraint()
    def SM_cat_outT(SOFC):
        return SOFC.cathode_outlet_temperature == 0.38237455595369362372493E-002 * Average_CurrentDensity - 0.39711226414865891110040 * FuelNGTemperature - 775.90597058237619876309 * Internal_Reforming + 2.3689172355853194140707 * OxidantTemperature - 1510.6485437225824171037 * Oxidant_Recirculation - 32.690327756790061641823 * OxygenToCarbon_Ratio + 1306.6450802520221259329 * Stack_Fuel_Utilization + 1481.5633266215793355514 * Stack_Oxidant_Utilization + 3.5336402449106594225725 * SystemPressure - 0.72291326953334515371334E-006 * Average_CurrentDensity**2 + 1314.2881961270375086315 * Internal_Reforming**2 - 0.57700494239114254613893E-003 * OxidantTemperature**2 - 36.845651024669223261299 * Oxidant_Recirculation**2 + 2.1715948043534547551303 * OxygenToCarbon_Ratio**2 - 2479.2711335464346120716 * Stack_Fuel_Utilization**2 - 443.80206476330528175822 * Stack_Oxidant_Utilization**2 + 1.2531251296941652295658 * SystemPressure**2 - 508.07687810397158045816 * Internal_Reforming**3 + 0.42985841537073121350896E-006 * OxidantTemperature**3 + 1063.5969120157765246404 * Stack_Fuel_Utilization**3 + 275.27992461802165280460 * Stack_Oxidant_Utilization**3 + 0.82084258952242975665436E-002 * Average_CurrentDensity*Internal_Reforming + 0.93869760385026037072904E-005 * Average_CurrentDensity*OxidantTemperature + 0.42373266212878825387467E-001 * Average_CurrentDensity*Oxidant_Recirculation + 0.30646299087848730136052E-001 * Average_CurrentDensity*Stack_Fuel_Utilization - 0.37450978749909387410799E-001 * Average_CurrentDensity*Stack_Oxidant_Utilization + 0.18548385662531427509059 * FuelNGTemperature*Internal_Reforming + 0.25238815604424380545368 * FuelNGTemperature*Oxidant_Recirculation + 0.17823093232859807399926 * FuelNGTemperature*OxygenToCarbon_Ratio + 0.27267212785994221491137 * FuelNGTemperature*Stack_Fuel_Utilization - 0.12647181381416405798745E-001 * FuelNGTemperature*Stack_Oxidant_Utilization - 1.5712161556598667200291 * Internal_Reforming*OxidantTemperature + 700.97103624892622519837 * Internal_Reforming*Oxidant_Recirculation + 298.10173569496555501246 * Internal_Reforming*OxygenToCarbon_Ratio + 769.43713724688620914094 * Internal_Reforming*Stack_Fuel_Utilization - 2406.9905628357164459885 * Internal_Reforming*Stack_Oxidant_Utilization + 3.4797659443795811995415 * Internal_Reforming*SystemPressure + 0.98038139273605640067188 * OxidantTemperature*Oxidant_Recirculation - 0.49561057473279873653027 * OxidantTemperature*OxygenToCarbon_Ratio - 2.7345500693542508230394 * OxidantTemperature*Stack_Fuel_Utilization - 0.79686607975602241626945 * OxidantTemperature*Stack_Oxidant_Utilization - 0.12793715455929114549471E-001 * OxidantTemperature*SystemPressure + 213.00354057931232887313 * Oxidant_Recirculation*OxygenToCarbon_Ratio + 1695.2234381458840744017 * Oxidant_Recirculation*Stack_Fuel_Utilization + 794.99779147863807793328 * Oxidant_Recirculation*Stack_Oxidant_Utilization + 11.692478314281945728226 * Oxidant_Recirculation*SystemPressure + 263.83991545202218276245 * OxygenToCarbon_Ratio*Stack_Fuel_Utilization - 357.20636744359296699258 * OxygenToCarbon_Ratio*Stack_Oxidant_Utilization + 244.39474019632524459666 * Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 9.8186580545168240519160 * Stack_Fuel_Utilization*SystemPressure - 18.483872847643073811241 * Stack_Oxidant_Utilization*SystemPressure + 0.83330532644942877419522E-006 * (Average_CurrentDensity*Oxidant_Recirculation)**2 + 0.21077110029333099129947E-003 * (Internal_Reforming*OxidantTemperature)**2 - 478.79963588687371611741 * (Internal_Reforming*Oxidant_Recirculation)**2 - 58.592454639937749050205 * (Internal_Reforming*OxygenToCarbon_Ratio)**2 - 1334.7518207796949809563 * (Internal_Reforming*Stack_Fuel_Utilization)**2 + 890.52196347866311043617 * (Internal_Reforming*Stack_Oxidant_Utilization)**2 + 0.19343339110858262974886E-003 * (OxidantTemperature*Oxidant_Recirculation)**2 + 0.25881467239531433276786E-004 * (OxidantTemperature*OxygenToCarbon_Ratio)**2 + 0.34419712047820535602560E-002 * (OxidantTemperature*Stack_Fuel_Utilization)**2 + 164.18043932268832918453 * (Oxidant_Recirculation*Stack_Fuel_Utilization)**2 - 205.55481118968774012501 * (Oxidant_Recirculation*Stack_Oxidant_Utilization)**2 - 16.134474282423795443719 * (OxygenToCarbon_Ratio*Stack_Fuel_Utilization)**2 + 389.54323234772760997657 * (Stack_Fuel_Utilization*Stack_Oxidant_Utilization)**2 + 187.82048918729486786106 * (Internal_Reforming*Oxidant_Recirculation)**3 + 8.2883627027537869480511 * (Internal_Reforming*OxygenToCarbon_Ratio)**3 + 672.11523781630239682272 * (Internal_Reforming*Stack_Fuel_Utilization)**3 - 530.74824378502012223180 * (Internal_Reforming*Stack_Oxidant_Utilization)**3 - 0.18734117398524753986163E-005 * (OxidantTemperature*Stack_Fuel_Utilization)**3 - 0.12241690820425012165007E-001 * Average_CurrentDensity*Internal_Reforming*Oxidant_Recirculation + 0.73248238689357196562479E-002 * Average_CurrentDensity*Internal_Reforming*Stack_Oxidant_Utilization - 0.43684944006923206332761E-004 * Average_CurrentDensity*OxidantTemperature*Oxidant_Recirculation - 0.54767694263895246920872E-004 * Average_CurrentDensity*OxidantTemperature*Stack_Fuel_Utilization + 0.49237113178320078587299E-004 * Average_CurrentDensity*OxidantTemperature*Stack_Oxidant_Utilization - 0.16516400222363482319654E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Fuel_Utilization - 0.11152307662461301285273E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Oxidant_Utilization + 0.15660622351876308383511E-001 * Average_CurrentDensity*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 0.65003638706437716354714E-001 * FuelNGTemperature*Internal_Reforming*OxygenToCarbon_Ratio - 0.10571312075624886284153 * FuelNGTemperature*Oxidant_Recirculation*OxygenToCarbon_Ratio - 0.24186190662939094364603 * FuelNGTemperature*Oxidant_Recirculation*Stack_Oxidant_Utilization - 0.14150487520222418402760 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 0.16536714861605569804048 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization - 0.19701636751492163091015 * FuelNGTemperature*Stack_Fuel_Utilization*Stack_Oxidant_Utilization + 0.56621853606116927248859E-001 * Internal_Reforming*OxidantTemperature*Oxidant_Recirculation + 0.95436968985454020963921E-001 * Internal_Reforming*OxidantTemperature*OxygenToCarbon_Ratio + 1.1980421908594864888187 * Internal_Reforming*OxidantTemperature*Stack_Fuel_Utilization - 0.43400602180496256066178 * Internal_Reforming*OxidantTemperature*Stack_Oxidant_Utilization - 107.24722394527957192167 * Internal_Reforming*Oxidant_Recirculation*OxygenToCarbon_Ratio - 398.99453196006038524501 * Internal_Reforming*Oxidant_Recirculation*Stack_Fuel_Utilization + 1739.0079478662144083501 * Internal_Reforming*Oxidant_Recirculation*Stack_Oxidant_Utilization - 187.46953748757914581802 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 156.37180672825127203396 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization + 351.73682183542734946968 * Internal_Reforming*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 1.2640633182980351989499 * OxidantTemperature*Oxidant_Recirculation*Stack_Fuel_Utilization - 0.95439781456320849084562 * OxidantTemperature*Oxidant_Recirculation*Stack_Oxidant_Utilization + 0.22825165551545481545936 * OxidantTemperature*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 2.1800914362368022381133 * OxidantTemperature*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 223.30041374619312932737 * Oxidant_Recirculation*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 272.07314275274620740674 * Oxidant_Recirculation*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization - 2693.7540102819116327737 * Oxidant_Recirculation*Stack_Fuel_Utilization*Stack_Oxidant_Utilization

    @b.SOFC.Constraint()
    def SM_max_cell_temp(SOFC):
        return SOFC.max_cell_temperature == 0.27153577129637642556537E-001 * Average_CurrentDensity - 0.29873258069316099838630 * FuelNGTemperature - 978.14464206562297476921 * Internal_Reforming + 2.9894139081550563652456 * OxidantTemperature - 1017.1329950906305157332 * Oxidant_Recirculation - 111.60313599934430328631 * OxygenToCarbon_Ratio - 220.97347489407061971178 * Stack_Fuel_Utilization + 1683.7604606895797587640 * Stack_Oxidant_Utilization - 1.6037519821417780541140 * SystemPressure - 0.16403333765832949875212E-005 * Average_CurrentDensity**2 + 1438.6494885154079383938 * Internal_Reforming**2 - 0.27113487514388882534955E-002 * OxidantTemperature**2 + 97.386248609178196034009 * Oxidant_Recirculation**2 + 16.780142192960120439693 * OxygenToCarbon_Ratio**2 - 698.52144239188510255190 * Stack_Fuel_Utilization**2 - 169.40004562288783063195 * Stack_Oxidant_Utilization**2 + 1.3570225584000499274850 * SystemPressure**2 - 559.94249178204870531772 * Internal_Reforming**3 + 0.16929486603943963662189E-005 * OxidantTemperature**3 + 472.38012944700852813185 * Stack_Fuel_Utilization**3 + 254.77142790410815109681 * Stack_Oxidant_Utilization**3 - 0.72159895007805480160457E-003 * Average_CurrentDensity*Internal_Reforming - 0.24663594829535180239736E-004 * Average_CurrentDensity*OxidantTemperature + 0.57550261992195116123039E-001 * Average_CurrentDensity*Oxidant_Recirculation + 0.31259428564631296272591E-002 * Average_CurrentDensity*OxygenToCarbon_Ratio - 0.10255154251141823315563E-001 * Average_CurrentDensity*Stack_Fuel_Utilization - 0.40843360423676401682602E-001 * Average_CurrentDensity*Stack_Oxidant_Utilization + 0.71745315949086688189773E-001 * FuelNGTemperature*Internal_Reforming + 0.25579432948850200357782 * FuelNGTemperature*Oxidant_Recirculation + 0.15490189689369968095711 * FuelNGTemperature*OxygenToCarbon_Ratio + 0.15213560160766520512610 * FuelNGTemperature*Stack_Fuel_Utilization - 0.12514784475981269307177E-001 * FuelNGTemperature*Stack_Oxidant_Utilization - 0.95289194096046547777235 * Internal_Reforming*OxidantTemperature + 499.84025447107080708520 * Internal_Reforming*Oxidant_Recirculation + 261.73868557377653587537 * Internal_Reforming*OxygenToCarbon_Ratio + 625.82372871624431809323 * Internal_Reforming*Stack_Fuel_Utilization - 1830.6962988692578164773 * Internal_Reforming*Stack_Oxidant_Utilization + 0.84580299372269107660571 * OxidantTemperature*Oxidant_Recirculation - 0.45171338704576097233812 * OxidantTemperature*OxygenToCarbon_Ratio + 0.78312627141423854504332E-001 * OxidantTemperature*Stack_Fuel_Utilization - 0.85342395014427940846957 * OxidantTemperature*Stack_Oxidant_Utilization - 0.88459769956103617011278E-002 * OxidantTemperature*SystemPressure + 255.41947019532085505489 * Oxidant_Recirculation*OxygenToCarbon_Ratio + 884.20920499559576910542 * Oxidant_Recirculation*Stack_Fuel_Utilization - 868.69857429179637620109 * Oxidant_Recirculation*Stack_Oxidant_Utilization + 11.972662304006261635436 * Oxidant_Recirculation*SystemPressure + 211.80841996637937540982 * OxygenToCarbon_Ratio*Stack_Fuel_Utilization - 220.06870140795226120645 * OxygenToCarbon_Ratio*Stack_Oxidant_Utilization - 1.5602083910301349778393 * OxygenToCarbon_Ratio*SystemPressure - 525.45386175578812526510 * Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 18.310468039609563817294 * Stack_Oxidant_Utilization*SystemPressure + 0.18625600199637344862505E-005 * (Average_CurrentDensity*Oxidant_Recirculation)**2 + 0.15944749160929402431036E-003 * (Internal_Reforming*OxidantTemperature)**2 - 413.35363194307888079493 * (Internal_Reforming*Oxidant_Recirculation)**2 - 86.266946326581333437389 * (Internal_Reforming*OxygenToCarbon_Ratio)**2 - 1130.3901755843721730344 * (Internal_Reforming*Stack_Fuel_Utilization)**2 + 806.26896409092648809747 * (Internal_Reforming*Stack_Oxidant_Utilization)**2 + 0.24996441580775748911867E-004 * (OxidantTemperature*OxygenToCarbon_Ratio)**2 - 0.18989763076606146771988E-003 * (OxidantTemperature*Stack_Oxidant_Utilization)**2 - 25.225222660009329445074 * (Oxidant_Recirculation*Stack_Fuel_Utilization)**2 - 223.62841979897936539601 * (Oxidant_Recirculation*Stack_Oxidant_Utilization)**2 - 20.994079556319093171624 * (OxygenToCarbon_Ratio*Stack_Fuel_Utilization)**2 - 0.48868527189390337162183E-007 * (FuelNGTemperature*Internal_Reforming)**3 + 171.68572985289250709684 * (Internal_Reforming*Oxidant_Recirculation)**3 + 12.385892188664083590766 * (Internal_Reforming*OxygenToCarbon_Ratio)**3 + 564.22715119147403584066 * (Internal_Reforming*Stack_Fuel_Utilization)**3 - 426.76278641700650950952 * (Internal_Reforming*Stack_Oxidant_Utilization)**3 - 0.16639582841705428851088E-006 * (OxidantTemperature*Stack_Fuel_Utilization)**3 - 0.68108830418292370815684E-006 * Average_CurrentDensity*FuelNGTemperature*SystemPressure - 0.16333446989541526572776E-001 * Average_CurrentDensity*Internal_Reforming*Oxidant_Recirculation + 0.15324286800282426596054E-001 * Average_CurrentDensity*Internal_Reforming*Stack_Fuel_Utilization + 0.13960487901718937955864E-001 * Average_CurrentDensity*Internal_Reforming*Stack_Oxidant_Utilization - 0.45874176140115861149190E-004 * Average_CurrentDensity*OxidantTemperature*Oxidant_Recirculation + 0.61863137332642423814842E-004 * Average_CurrentDensity*OxidantTemperature*Stack_Oxidant_Utilization - 0.39886828729967599427297E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Fuel_Utilization - 0.41678213464858525350021E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Oxidant_Utilization + 0.46580638980588916220338E-001 * Average_CurrentDensity*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 0.63457935727912404000328E-001 * FuelNGTemperature*Internal_Reforming*OxygenToCarbon_Ratio + 0.14806524352493397045372 * FuelNGTemperature*Internal_Reforming*Stack_Fuel_Utilization - 0.99504513686752178724948E-002 * FuelNGTemperature*Internal_Reforming*Stack_Oxidant_Utilization - 0.11046574062992077502887 * FuelNGTemperature*Oxidant_Recirculation*OxygenToCarbon_Ratio - 0.22025199982811533017113 * FuelNGTemperature*Oxidant_Recirculation*Stack_Oxidant_Utilization - 0.10990369843011831008095 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 0.14671240688355205450399 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization - 0.15763301699761997354265 * FuelNGTemperature*Stack_Fuel_Utilization*Stack_Oxidant_Utilization + 0.22612131125564471911815 * Internal_Reforming*OxidantTemperature*Oxidant_Recirculation + 0.12574457146356454728675 * Internal_Reforming*OxidantTemperature*OxygenToCarbon_Ratio + 0.56771870659291212568576 * Internal_Reforming*OxidantTemperature*Stack_Fuel_Utilization - 0.64041697182998935655718 * Internal_Reforming*OxidantTemperature*Stack_Oxidant_Utilization - 77.375092568660846836792 * Internal_Reforming*Oxidant_Recirculation*OxygenToCarbon_Ratio - 225.56582590058172854697 * Internal_Reforming*Oxidant_Recirculation*Stack_Fuel_Utilization + 1212.9689287390351637441 * Internal_Reforming*Oxidant_Recirculation*Stack_Oxidant_Utilization - 86.072890726661881899417 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 142.05696756260891788770 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization + 236.92713213646990766392 * Internal_Reforming*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 1.2727530491320748762263 * OxidantTemperature*Oxidant_Recirculation*Stack_Fuel_Utilization + 0.20651273896587021838833 * OxidantTemperature*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 1.8997549658491399426907 * OxidantTemperature*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 197.64141717212160642703 * Oxidant_Recirculation*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 50.421329655709492101323 * Oxidant_Recirculation*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization

    @b.SOFC.Constraint()
    def SM_delta_Cell(SOFC):
        return SOFC.deltaT_cell == 0.21167223600570050923153E-001 * Average_CurrentDensity + 0.19282660115698338487711 * FuelNGTemperature - 1388.1913470790866540483 * Internal_Reforming - 0.58731681293480297867404 * OxidantTemperature - 170.39873841789855646311 * Oxidant_Recirculation - 162.47770346809898001084 * OxygenToCarbon_Ratio + 2455.0125174126051206258 * Stack_Fuel_Utilization + 402.84812417865146016993 * Stack_Oxidant_Utilization + 21.653183000450400896852 * SystemPressure - 0.54252641153764450738422E-006 * Average_CurrentDensity**2 + 867.79284329881591020239 * Internal_Reforming**2 + 0.23632916927605472807994E-002 * OxidantTemperature**2 + 48.529235238265641783073 * Oxidant_Recirculation**2 + 17.212503294667271802609 * OxygenToCarbon_Ratio**2 - 2518.6838488367270656454 * Stack_Fuel_Utilization**2 - 378.83236969687857254030 * Stack_Oxidant_Utilization**2 - 0.93567050595983558558544 * SystemPressure**2 - 365.83029815497502568178 * Internal_Reforming**3 - 0.11993237840194207552305E-005 * OxidantTemperature**3 + 1.1652675114822470536780 * OxygenToCarbon_Ratio**3 + 1059.3267530941354834795 * Stack_Fuel_Utilization**3 + 216.39310327698419200715 * Stack_Oxidant_Utilization**3 - 0.52365035076824814619378E-001 * Average_CurrentDensity*Internal_Reforming - 0.22195577829507390183817E-004 * Average_CurrentDensity*OxidantTemperature + 0.54268982369941952403902E-001 * Average_CurrentDensity*Oxidant_Recirculation + 0.18320928488013167850096E-003 * Average_CurrentDensity*OxygenToCarbon_Ratio + 0.12193945505673068827046E-001 * Average_CurrentDensity*Stack_Fuel_Utilization - 0.11414718731999043757619E-001 * Average_CurrentDensity*Stack_Oxidant_Utilization + 0.12227531393115191488152E-004 * Average_CurrentDensity*SystemPressure + 0.13387860897093950551806 * FuelNGTemperature*Internal_Reforming - 0.36731135307151700384806E-003 * FuelNGTemperature*OxidantTemperature + 0.11168297641102480077802 * FuelNGTemperature*Oxidant_Recirculation + 0.53674175252057018670193E-001 * FuelNGTemperature*OxygenToCarbon_Ratio - 0.48904157085192567766541 * FuelNGTemperature*Stack_Fuel_Utilization - 0.56761070781964732823166E-001 * FuelNGTemperature*Stack_Oxidant_Utilization + 0.45773162575090758918961 * Internal_Reforming*OxidantTemperature + 143.43111144395928135964 * Internal_Reforming*Oxidant_Recirculation + 211.67577918276177229018 * Internal_Reforming*OxygenToCarbon_Ratio + 1631.4014285195185038901 * Internal_Reforming*Stack_Fuel_Utilization - 878.30173694072925627552 * Internal_Reforming*Stack_Oxidant_Utilization - 0.45266689613488945986841E-001 * OxidantTemperature*Oxidant_Recirculation - 0.10774126547593322611451 * OxidantTemperature*OxygenToCarbon_Ratio - 3.2707681072380068165728 * OxidantTemperature*Stack_Fuel_Utilization + 0.38262298625546470320913 * OxidantTemperature*Stack_Oxidant_Utilization - 0.43794551428516827196180E-001 * OxidantTemperature*SystemPressure + 96.699852267633758629017 * Oxidant_Recirculation*OxygenToCarbon_Ratio - 122.67837024732843076436 * Oxidant_Recirculation*Stack_Fuel_Utilization - 134.56119685702518040671 * Oxidant_Recirculation*Stack_Oxidant_Utilization + 6.0249447908107036653291 * Oxidant_Recirculation*SystemPressure + 145.22989761961389376665 * OxygenToCarbon_Ratio*Stack_Fuel_Utilization - 142.11370678375121201498 * OxygenToCarbon_Ratio*Stack_Oxidant_Utilization - 1.0636269219022949084064 * OxygenToCarbon_Ratio*SystemPressure + 241.65064253697659069076 * Stack_Fuel_Utilization*Stack_Oxidant_Utilization + 0.39170075122404879319760 * Stack_Oxidant_Utilization*SystemPressure + 0.94057791604748411756179E-006 * (Average_CurrentDensity*Internal_Reforming)**2 - 0.20722783576367072488542E-005 * (Average_CurrentDensity*Stack_Fuel_Utilization)**2 + 0.80647681577740134087340E-003 * (Internal_Reforming*OxidantTemperature)**2 - 124.83804558757461222740 * (Internal_Reforming*Oxidant_Recirculation)**2 - 81.154909177331205683004 * (Internal_Reforming*OxygenToCarbon_Ratio)**2 - 849.74689920954233457451 * (Internal_Reforming*Stack_Fuel_Utilization)**2 + 690.30019913144246856973 * (Internal_Reforming*Stack_Oxidant_Utilization)**2 + 0.36075131255771503667462E-002 * (OxidantTemperature*Stack_Fuel_Utilization)**2 - 0.14395450407804597121875E-003 * (OxidantTemperature*Stack_Oxidant_Utilization)**2 + 0.43363128121098438538892E-005 * (OxidantTemperature*SystemPressure)**2 - 103.38560237790089502141 * (Oxidant_Recirculation*Stack_Fuel_Utilization)**2 - 58.307410161832535777648 * (Oxidant_Recirculation*Stack_Oxidant_Utilization)**2 - 17.103605900131171324574 * (OxygenToCarbon_Ratio*Stack_Fuel_Utilization)**2 + 50.157801102031726259156 * (Stack_Fuel_Utilization*Stack_Oxidant_Utilization)**2 - 0.30311853339122239226790E-006 * (Internal_Reforming*OxidantTemperature)**3 + 12.476874453947496945716 * (Internal_Reforming*OxygenToCarbon_Ratio)**3 + 416.73018682844531213050 * (Internal_Reforming*Stack_Fuel_Utilization)**3 - 361.03391868754476945469 * (Internal_Reforming*Stack_Oxidant_Utilization)**3 - 0.14206256539878199778303E-005 * (OxidantTemperature*Stack_Fuel_Utilization)**3 + 0.16482124018089877619990E-004 * Average_CurrentDensity*Internal_Reforming*OxidantTemperature + 0.25469774869101548253614E-001 * Average_CurrentDensity*Internal_Reforming*Oxidant_Recirculation + 0.42436953826772254305677E-002 * Average_CurrentDensity*Internal_Reforming*OxygenToCarbon_Ratio + 0.36308647011463829334943E-001 * Average_CurrentDensity*Internal_Reforming*Stack_Fuel_Utilization - 0.45930439056607874626081E-001 * Average_CurrentDensity*Internal_Reforming*Stack_Oxidant_Utilization - 0.35595165073547110413162E-004 * Average_CurrentDensity*OxidantTemperature*Oxidant_Recirculation + 0.45143116789447678565989E-004 * Average_CurrentDensity*OxidantTemperature*Stack_Oxidant_Utilization - 0.59695975584436684890921E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Fuel_Utilization - 0.46723142074173037996410E-001 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Oxidant_Utilization + 0.84628319303491003622320E-001 * Average_CurrentDensity*Stack_Fuel_Utilization*Stack_Oxidant_Utilization - 0.22338839972897970610755E-002 * Average_CurrentDensity*Stack_Oxidant_Utilization*SystemPressure - 0.21682043098889472042441E-003 * FuelNGTemperature*Internal_Reforming*OxidantTemperature - 0.68359582785953082462171E-001 * FuelNGTemperature*Internal_Reforming*OxygenToCarbon_Ratio + 0.20611743394694587161453 * FuelNGTemperature*Internal_Reforming*Stack_Fuel_Utilization - 0.47328819528061653269108E-003 * FuelNGTemperature*Internal_Reforming*Stack_Oxidant_Utilization + 0.58630982127796384909685E-003 * FuelNGTemperature*OxidantTemperature*Stack_Fuel_Utilization - 0.49107756639279791233132E-001 * FuelNGTemperature*Oxidant_Recirculation*OxygenToCarbon_Ratio - 0.97052738872795585312048E-001 * FuelNGTemperature*Oxidant_Recirculation*Stack_Oxidant_Utilization + 0.68316285440988055999156E-001 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization + 0.18869632787651788308203 * Internal_Reforming*OxidantTemperature*OxygenToCarbon_Ratio - 1.8424882806510116672882 * Internal_Reforming*OxidantTemperature*Stack_Fuel_Utilization - 0.24376784867777509524522 * Internal_Reforming*OxidantTemperature*Stack_Oxidant_Utilization - 66.406841388858168784282 * Internal_Reforming*Oxidant_Recirculation*OxygenToCarbon_Ratio + 128.20209382268728859344 * Internal_Reforming*Oxidant_Recirculation*Stack_Fuel_Utilization + 478.54812540351792904403 * Internal_Reforming*Oxidant_Recirculation*Stack_Oxidant_Utilization - 93.589873997462746046949 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 84.308029369538232344894 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization

    @b.SOFC.Constraint()
    def SM_stack_volt(SOFC):
        return SOFC.stack_voltage == - 0.56690807956533404473719E-004 * Average_CurrentDensity - 0.17293052897905913630264E-003 * FuelNGTemperature - 0.51958241781039060658287 * Internal_Reforming + 0.82207230446974862564380E-002 * OxidantTemperature + 0.19944463426597280886199 * Oxidant_Recirculation - 0.11378322286854762601660 * OxygenToCarbon_Ratio - 0.63201134731487429441188 * Stack_Fuel_Utilization + 1.1075054694100645580335 * Stack_Oxidant_Utilization + 0.55821405545530408329191E-002 * SystemPressure + 0.14573329916324751155644E-008 * Average_CurrentDensity**2 - 0.65116954851374397872377 * Internal_Reforming**2 - 0.10172611574104803040526E-004 * OxidantTemperature**2 - 0.12158566318395705452282 * Oxidant_Recirculation**2 - 0.25807345613405507575577E-002 * OxygenToCarbon_Ratio**2 + 1.0546406575385454118532 * Stack_Fuel_Utilization**2 - 1.2289581692842042048852 * Stack_Oxidant_Utilization**2 - 0.61793009909894142106523E-002 * SystemPressure**2 + 0.29284468922232975707232 * Internal_Reforming**3 + 0.40183743851852070238341E-008 * OxidantTemperature**3 - 0.89333061933697902046170E-001 * Oxidant_Recirculation**3 - 0.56993412815637811696945 * Stack_Fuel_Utilization**3 + 0.36165941263014839135437 * Stack_Oxidant_Utilization**3 + 0.58981563001568820901049E-003 * SystemPressure**3 + 0.11699419182774650992171E-008 * Average_CurrentDensity*FuelNGTemperature - 0.22879102342104445369161E-004 * Average_CurrentDensity*Internal_Reforming + 0.32748898418192122003716E-007 * Average_CurrentDensity*OxidantTemperature - 0.99533855834823037919516E-004 * Average_CurrentDensity*Oxidant_Recirculation + 0.18484318981372981562133E-005 * Average_CurrentDensity*OxygenToCarbon_Ratio - 0.41545801285584341643823E-004 * Average_CurrentDensity*Stack_Fuel_Utilization + 0.17753791679406906488595E-003 * Average_CurrentDensity*Stack_Oxidant_Utilization + 0.67529915041650317346703E-004 * FuelNGTemperature*Internal_Reforming + 0.27050133477942422193202E-006 * FuelNGTemperature*OxidantTemperature - 0.10579949528380918559022E-003 * FuelNGTemperature*Oxidant_Recirculation + 0.10011514295641711635998E-003 * FuelNGTemperature*OxygenToCarbon_Ratio + 0.20349323004506552112864E-004 * FuelNGTemperature*Stack_Fuel_Utilization - 0.99557554517646106151244E-006 * FuelNGTemperature*Stack_Oxidant_Utilization + 0.10570581672126558737262E-002 * Internal_Reforming*OxidantTemperature + 0.25122110529157984371018E-001 * Internal_Reforming*Oxidant_Recirculation + 0.37995452608054820775596E-001 * Internal_Reforming*OxygenToCarbon_Ratio + 0.61501047834028998995137 * Internal_Reforming*Stack_Fuel_Utilization + 0.39802155471226696725751 * Internal_Reforming*Stack_Oxidant_Utilization - 0.11810574586526435825196E-001 * Internal_Reforming*SystemPressure - 0.41097716601934083154729E-003 * OxidantTemperature*Oxidant_Recirculation + 0.12271060976047661723008E-003 * OxidantTemperature*OxygenToCarbon_Ratio - 0.19260819395018293669411E-003 * OxidantTemperature*Stack_Fuel_Utilization - 0.25392667776142859893673E-002 * OxidantTemperature*Stack_Oxidant_Utilization + 0.44317801632666635534667E-004 * OxidantTemperature*SystemPressure - 0.27561460463351970806567E-001 * Oxidant_Recirculation*OxygenToCarbon_Ratio + 0.24778521988530050057520 * Oxidant_Recirculation*Stack_Fuel_Utilization + 0.24438884377208355824784 * Oxidant_Recirculation*Stack_Oxidant_Utilization - 0.55734544916739812980833E-002 * Oxidant_Recirculation*SystemPressure + 0.57479638532090822355958E-001 * OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 0.13419097896877474340727 * OxygenToCarbon_Ratio*Stack_Oxidant_Utilization + 0.84777491684632388935228E-001 * Stack_Fuel_Utilization*Stack_Oxidant_Utilization + 0.15268870062352416991369E-002 * Stack_Fuel_Utilization*SystemPressure + 0.86218016226155130832254E-002 * Stack_Oxidant_Utilization*SystemPressure + 0.49628572731043873338330E-009 * (Average_CurrentDensity*Internal_Reforming)**2 - 0.21406832031612422279928E-008 * (Average_CurrentDensity*Oxidant_Recirculation)**2 - 0.28322154308606852304641E-008 * (Average_CurrentDensity*Stack_Oxidant_Utilization)**2 + 0.42554508375497597704248E-006 * (Internal_Reforming*OxidantTemperature)**2 + 0.87822311252665485881153E-001 * (Internal_Reforming*Oxidant_Recirculation)**2 + 0.10978416359183099451635E-001 * (Internal_Reforming*OxygenToCarbon_Ratio)**2 + 0.45080640477373545849105 * (Internal_Reforming*Stack_Fuel_Utilization)**2 - 0.25497269158493501839402 * (Internal_Reforming*Stack_Oxidant_Utilization)**2 + 0.35073658444355073416146E-006 * (OxidantTemperature*Oxidant_Recirculation)**2 - 0.41644203157673726696958E-006 * (OxidantTemperature*Stack_Fuel_Utilization)**2 + 0.32771169141589847835277E-005 * (OxidantTemperature*Stack_Oxidant_Utilization)**2 - 0.26742620627213533897083E-008 * (OxidantTemperature*SystemPressure)**2 + 0.97992953246678310419426E-001 * (Oxidant_Recirculation*Stack_Oxidant_Utilization)**2 - 0.47314169391104575479456E-001 * (OxygenToCarbon_Ratio*Stack_Oxidant_Utilization)**2 - 0.55525675201823332383100 * (Stack_Fuel_Utilization*Stack_Oxidant_Utilization)**2 - 0.33964174459148175395696E-009 * (Internal_Reforming*OxidantTemperature)**3 - 0.28809572382722975492086 * (Internal_Reforming*Stack_Fuel_Utilization)**3 + 0.14030726013205441216058 * (Internal_Reforming*Stack_Oxidant_Utilization)**3 - 0.15066993478293909887231E-008 * (OxidantTemperature*Stack_Oxidant_Utilization)**3 + 0.77777349673412536634753E-002 * (OxygenToCarbon_Ratio*Stack_Oxidant_Utilization)**3 + 0.26949281905566868644542 * (Stack_Fuel_Utilization*Stack_Oxidant_Utilization)**3 + 0.46999090531338321325721E-009 * Average_CurrentDensity*FuelNGTemperature*SystemPressure + 0.51900212352591598769264E-008 * Average_CurrentDensity*Internal_Reforming*OxidantTemperature + 0.71061611111786975879842E-005 * Average_CurrentDensity*Internal_Reforming*Oxidant_Recirculation + 0.13533570341169686632674E-006 * Average_CurrentDensity*OxidantTemperature*Oxidant_Recirculation + 0.10292794152499052238894E-006 * Average_CurrentDensity*OxidantTemperature*Stack_Fuel_Utilization - 0.22067479010763532371682E-006 * Average_CurrentDensity*OxidantTemperature*Stack_Oxidant_Utilization + 0.20349364094549121211855E-004 * Average_CurrentDensity*Oxidant_Recirculation*Stack_Oxidant_Utilization - 0.66446148406247371181891E-005 * Average_CurrentDensity*OxygenToCarbon_Ratio*Stack_Fuel_Utilization - 0.10307021737803432909902E-003 * FuelNGTemperature*Internal_Reforming*Stack_Fuel_Utilization + 0.46918188168021054962331E-004 * FuelNGTemperature*Internal_Reforming*Stack_Oxidant_Utilization - 0.15700960321872761421495E-006 * FuelNGTemperature*OxidantTemperature*OxygenToCarbon_Ratio + 0.39960830546652594799564E-004 * FuelNGTemperature*Oxidant_Recirculation*OxygenToCarbon_Ratio + 0.96465780500854721190608E-004 * FuelNGTemperature*Oxidant_Recirculation*Stack_Oxidant_Utilization - 0.39814931129289654252162E-004 * FuelNGTemperature*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization - 0.52866935792416441754118E-004 * Internal_Reforming*OxidantTemperature*OxygenToCarbon_Ratio - 0.82242186168799422466003E-003 * Internal_Reforming*OxidantTemperature*Stack_Fuel_Utilization - 0.11103238857515405901832 * Internal_Reforming*Oxidant_Recirculation*Stack_Fuel_Utilization - 0.43245580080568646330619 * Internal_Reforming*Oxidant_Recirculation*Stack_Oxidant_Utilization - 0.91576933277813257761046E-001 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Fuel_Utilization + 0.13318157587490610585523E-001 * Internal_Reforming*OxygenToCarbon_Ratio*Stack_Oxidant_Utilization + 0.11995033283900138898481 * Internal_Reforming*Stack_Fuel_Utilization*Stack_Oxidant_Utilization + 0.10913646859490698168282E-001 * Internal_Reforming*Stack_Fuel_Utilization*SystemPressure - 0.92413823930697425179659


def initialize_SOFC_SM(SOFC):
    calculate_variable_from_constraint(SOFC.cathode_outlet_temperature,
                                       SOFC.SM_cat_outT)
    calculate_variable_from_constraint(SOFC.max_cell_temperature,
                                       SOFC.SM_max_cell_temp)
    calculate_variable_from_constraint(SOFC.anode_outlet_temperature,
                                       SOFC.SM_fuel_temp)
    calculate_variable_from_constraint(SOFC.deltaT_cell,
                                       SOFC.SM_delta_Cell)
    calculate_variable_from_constraint(SOFC.stack_voltage,
                                       SOFC.SM_stack_volt)

